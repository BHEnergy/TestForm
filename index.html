<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href = "style.css?v=1" rel="stylesheet">
    <script src = "script.js" type="text/javascript"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=arrow_forward" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js" integrity="sha512-d4KkQohk+HswGs6A1d6Gak6Bb9rMWtxjOa0IiY49Q3TeFd5xAzjWXDCBW9RS7m86FQ4RzM2BdHmdJnnKRYknxw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Test form</title>
</head>
<body>
    <div class = "activeArea">
    <form id ="formConnect" class = "form">
        <div class = "formText">Обратная связь</div>
        <div class = "inputArea">
            <div class = "blockInput">
                <label for="txt_name">ФИО *</label>
                <input type="text" id="txt_name" class = "customInput" onchange = "saveValue(this)" placeholder="Иванов Иван Иванович" maxlength="112" required/>
            </div>
            <div class = "blockInput">
                <label for="txt_phone">Телефон *</label>
                <input type="tel" id="txt_phone" class = "customInput" onchange = "saveValue(this)" required />
            </div>
            <div class = "blockInput">
                <label for="txt_email">E-mail *</label>
                <input type="email" id="txt_email" class = "customInput" onchange = "saveValue(this)" placeholder="yourmail@host.com" maxlength="52" required />
            </div>
            <div class = "blockInput">
                <label for="txt_company">Наименование организации *</label>
                <input list = "orgStatus" type="text" id="txt_company" class = "customInput" onchange = "saveValue(this)" placeholder="ООО <<Компания>>" required/>
                <datalist id = "orgStatus">
                    <option value = "ИП"></option>
                    <option value = "ООО"></option>
                    <option value = "ЗАО"></option>
                </datalist>
            </div>
            <div class = "blockInput">
            <label for ="list_city">Город *</label>
            <select class = "customInput" id = "list_city" name="city" onchange = "saveValue(this)" required>
                
            </select>
            </div>
            <div class = "blockInput">
            <label for ="list_product">Продукт</label>
            <select class = "customInput" id = "list_product" onchange = "saveValue(this)" required>
                <option value="s1" selected>Пакет "Старт"</option>
                <option value="s2">Пакет "Стандарт"</option>
                <option value="s3">Пакет "Премиум"</option>
            </select>
            </div>
            <div class = "blockInput">
                <label for = "txt_comment">Комментарий</label>
            <textarea class = "customInput customTextArea" id = "txt_comment" onchange = "saveValue(this)" maxlength = "255" placeholder="Опишите вашу проблему"></textarea>
            </div>
        </div>
        <div class = "footerForm">
            <button type = "button" class = "btn"><div class = "btnContent">Отправить<span class="material-symbols-outlined">arrow_forward</span></div></button>
            <div class = "pushMsg"> 
                
            </div>
        </div>
    </form>
    </div>
    <script>
    //Сохранение данных
    function saveValue(e) {
        let id = e.id;
        let val = e.value;
        localStorage.setItem(id, val);
    }

    function getSavedValue(v) {
        if (!localStorage.getItem(v)) {
            return "";
        }
        return localStorage.getItem(v);
    }   

    document.getElementById('txt_name').value = getSavedValue('txt_name');
    document.getElementById('txt_phone').value = getSavedValue('txt_phone');
    document.getElementById('txt_email').value = getSavedValue('txt_email');
    document.getElementById('txt_company').value = getSavedValue('txt_company');
    document.getElementById('list_city').value = getSavedValue('list_city');
    document.getElementById('list_product').value = getSavedValue('list_product');
    document.getElementById('txt_comment').value = getSavedValue('txt_comment');

    </script>
</body>
</html>